pattern_pos = (pattern_pos+pattern_speed*(.2+.8*global.motion)) mod 320;
wave_anim = (wave_anim + .25) mod 10;